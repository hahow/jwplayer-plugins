(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters})),__webpack_require__.d(preview_namespaceObject,"decorators",(function(){return decorators}));__webpack_require__("../../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("../../node_modules/@storybook/client-api/dist/esm/ClientApi.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),GitHubCorner_GitHubCorner=function GitHubCorner(_ref){var url=_ref.url;return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsx)("a",{href:url,"aria-label":"View source on GitHub",children:Object(jsx_runtime.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,right:0},"aria-hidden":"true",children:[Object(jsx_runtime.jsx)("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),Object(jsx_runtime.jsx)("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"130px 106px"}}),Object(jsx_runtime.jsx)("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"})]})})})},components_GitHubCorner=GitHubCorner_GitHubCorner;try{GitHubCorner_GitHubCorner.displayName="GitHubCorner",GitHubCorner_GitHubCorner.__docgenInfo={description:"https://tholman.com/github-corners/",displayName:"GitHubCorner",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/GitHubCorner.tsx#GitHubCorner"]={docgenInfo:GitHubCorner_GitHubCorner.__docgenInfo,name:"GitHubCorner",path:"components/GitHubCorner.tsx#GitHubCorner"})}catch(__react_docgen_typescript_loader_error){}var parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},decorators=[function(Story){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Story,{}),Object(jsx_runtime.jsx)(components_GitHubCorner,{url:"https://github.com/hahow/jwplayer-plugins"})]})}];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return Object(ClientApi.d)(value);case"argTypes":return Object(ClientApi.b)(value);case"decorators":return value.forEach((function(decorator){return Object(ClientApi.f)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.g)(loader,!1)}));case"parameters":return Object(ClientApi.h)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.e)(enhancer)}));case"render":return Object(ClientApi.i)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.h)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("../../node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("../../node_modules/webpack/buildin/module.js")(module))},"./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./FullViewport.stories.tsx":"./stories/FullViewport.stories.tsx","./Screenshot.stories.tsx":"./stories/Screenshot.stories.tsx","./TrackNotes.stories.tsx":"./stories/TrackNotes.stories.tsx","./Watermark.stories.tsx":"./stories/Watermark.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./stories/FullViewport.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FullViewport",(function(){return FullViewport}));__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js");var jwplayer_react=__webpack_require__("../../node_modules/@jwplayer/jwplayer-react/lib/jwplayer-react.js"),jwplayer_react_default=__webpack_require__.n(jwplayer_react);var createPluginStory=__webpack_require__("./utils/createPluginStory.tsx"),esm=(__webpack_require__("../../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("../../node_modules/@mdx-js/react/dist/esm.js")),dist_esm=__webpack_require__("../../node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)("h1",{id:"jwplayer-plugin-full-viewport"},"jwplayer-plugin-full-viewport"),Object(esm.b)("p",null,Object(esm.b)("a",{parentName:"p",href:"https://badge.fury.io/js/@hahow%2Fjwplayer-plugin-full-viewport",target:"_blank",rel:"nofollow noopener noreferrer"},Object(esm.b)("img",{parentName:"a",src:"https://badge.fury.io/js/@hahow%2Fjwplayer-plugin-full-viewport.svg",alt:"npm version"}))),Object(esm.b)("p",null,"劇院模式，又稱作「視窗全螢幕」。可以將播放器放大至整個瀏覽器（viewport），相較於全螢幕（full-screen）模式，操作上更為方便。"),Object(esm.b)("h2",{id:"table-of-contents"},"Table of Contents"),Object(esm.b)("ul",null,Object(esm.b)("li",{parentName:"ul"},Object(esm.b)("a",{parentName:"li",href:"#demo"},"Demo")),Object(esm.b)("li",{parentName:"ul"},Object(esm.b)("a",{parentName:"li",href:"#external-plugin"},"External Plugin")),Object(esm.b)("li",{parentName:"ul"},Object(esm.b)("a",{parentName:"li",href:"#internal-plugin-not-recommended"},"Internal Plugin"))),Object(esm.b)("h2",{id:"demo"},"Demo"),Object(esm.b)(dist_esm.a,{id:"full-viewport--full-viewport",mdxType:"Story"}),Object(esm.b)("h2",{id:"external-plugin"},"External Plugin"),Object(esm.b)("p",null,"IIFE 格式，JW Player 預設使用 plugin 的方式："),Object(esm.b)("h3",{id:"vanilla-js"},"Vanilla JS"),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre",className:"language-html"},'<html>\n  <head>\n    <script src="{your_cloud_hosted_player_library_url}"><\/script>\n  </head>\n  <body>\n    <div id="myElement"></div>\n\n    <script type="text/JavaScript">\n      jwplayer("myElement").setup({\n        "playlist": "{your_playlist_url}",\n        "plugins": {\n          "//unpkg.com/@hahow/jwplayer-plugin-full-viewport@latest/dist/iife/fullViewport.js": {}\n        }\n      });\n    <\/script>\n  </body>\n</html>\n')),Object(esm.b)("h3",{id:"react-js"},"React JS"),Object(esm.b)("p",null,"以 ",Object(esm.b)("a",{parentName:"p",href:"https://github.com/jwplayer/jwplayer-react",target:"_blank",rel:"nofollow noopener noreferrer"},"@jwplayer/jwplayer-react")," 為例，其它 framework 大同小異："),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre",className:"language-jsx"},"import JWPlayer from '@jwplayer/jwplayer-react';\n\nconst App = () => (\n  return (\n    <JWPlayer\n      library='{your_cloud_hosted_player_library_url}'\n      playlist='{your_playlist_url}'\n      config={{\n        plugins: {\n          \"//unpkg.com/@hahow/jwplayer-plugin-full-viewport@latest/dist/iife/fullViewport.js\": {},\n        },\n      }}\n    />\n  );\n);\n")),Object(esm.b)("h2",{id:"internal-plugin-not-recommended"},"Internal Plugin (not recommended)"),Object(esm.b)("p",null,"CJS & EMS 格式，非官方使用 plugin 的方式，不建議使用："),Object(esm.b)("ol",null,Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("inlineCode",{parentName:"li"},"npm install @hahow/jwplayer-plugin-full-viewport")),Object(esm.b)("li",{parentName:"ol"},"載入 plugin module ",Object(esm.b)("inlineCode",{parentName:"li"},"initPlugin")),Object(esm.b)("li",{parentName:"ol"},"建立一份空的 ",Object(esm.b)("inlineCode",{parentName:"li"},"fullViewport.js"),"，放在 application 可以讀取的位置（例如 ",Object(esm.b)("inlineCode",{parentName:"li"},"/"),"）"),Object(esm.b)("li",{parentName:"ol"},"使用 JWP 的 ",Object(esm.b)("inlineCode",{parentName:"li"},"registerPlugin()")," API 註冊 plugin")),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre",className:"language-jsx"},'import JWPlayer from \'@jwplayer/jwplayer-react\';\n\nimport { initPlugin } from "@hahow/jwplayer-plugin-full-viewport";\n\nconst App = () => (\n  return (\n    <JWPlayer\n      library=\'{your_cloud_hosted_player_library_url}\'\n      playlist=\'{your_playlist_url}\'\n      config={{\n        plugins: {\n          "/fullViewport.js": {},\n        },\n      }}\n      didMountCallback={({ player }) => {\n        player.registerPlugin("fullViewport", "8.0", initPlugin);\n      }}\n    />\n  );\n);\n')))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;__webpack_exports__.default={title:"Full Viewport",component:jwplayer_react_default.a,parameters:{docs:{page:MDXContent}}};var FullViewport=Object(createPluginStory.a)({pluginName:"fullViewport",playerMinimumVersion:"8.0.0",pluginClassOrFunction:function u(e){var t=document.createElement("style");t.type="text/css",t.innerHTML="\n    .jwplayer.jw-fullscreen-web {\n      bottom: 0;\n      height: 100% !important;\n      left: 0;\n      position: fixed;\n      right: 0;\n      top: 0;\n      width: 100% !important;\n      z-index: 9999;\n    }\n  ",document.getElementsByTagName("head")[0].appendChild(t),e.on("ready",(function(){var n=e.getContainer();e.addButton('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1152 1024" class="jw-svg-icon"><path fill="currentColor" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4A76.8 76.8 0 0 0 76.8 1024h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zM448 192a64 64 0 0 1 7.488 127.552L448 320H320v128a64 64 0 0 1-56.512 63.552L256 512a64 64 0 0 1-63.552-56.512L192 448V262.592c0-34.432 25.024-66.112 61.632-70.144L261.632 192H448zM704 832a64 64 0 0 1-7.488-127.552L704 704h128V576a64 64 0 0 1 56.512-63.552L896 512a64 64 0 0 1 63.552 56.512L960 576v185.408c0 34.496-25.024 66.112-61.632 70.208l-8 0.384H704z"></path></svg>',"劇院模式",(function c(){!function i(e,t){return e.classList.contains(t)}(n,"jw-fullscreen-web")?function r(e,t){return e.classList.add(t)}(n,"jw-fullscreen-web"):function a(e,t){return e.classList.remove(t)}(n,"jw-fullscreen-web")}),"jw-plugin-full-viewport")}))},pluginScriptUrl:"//unpkg.com/@hahow/jwplayer-plugin-full-viewport@latest/dist/iife/fullViewport.js",pluginConfig:{},storyArgs:{config:{height:360,width:640},file:"https://cdn.jwplayer.com/manifests/GXbUbwm0.m3u8",library:"https://cdn.jwplayer.com/libraries/BdsZ7KBq.js"}});FullViewport.parameters=Object.assign({storySource:{source:'createPluginStory({\n  pluginName: "fullViewport",\n  playerMinimumVersion: "8.0.0",\n  pluginClassOrFunction: initPlugin,\n  pluginScriptUrl:\n    "//unpkg.com/@hahow/jwplayer-plugin-full-viewport@latest/dist/iife/fullViewport.js",\n  pluginConfig: {},\n  storyArgs: {\n    config: {\n      height: 360,\n      width: 640,\n    },\n    file: "https://cdn.jwplayer.com/manifests/GXbUbwm0.m3u8",\n    library: "https://cdn.jwplayer.com/libraries/BdsZ7KBq.js",\n  },\n})'}},FullViewport.parameters)},"./stories/Screenshot.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Screenshot",(function(){return Screenshot}));__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js");var jwplayer_react=__webpack_require__("../../node_modules/@jwplayer/jwplayer-react/lib/jwplayer-react.js"),jwplayer_react_default=__webpack_require__.n(jwplayer_react),d='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="jw-svg-icon"><path d="M 19.402344 6 C 17.019531 6 14.96875 7.679688 14.5 10.011719 L 14.097656 12 L 9 12 C 6.238281 12 4 14.238281 4 17 L 4 38 C 4 40.761719 6.238281 43 9 43 L 41 43 C 43.761719 43 46 40.761719 46 38 L 46 17 C 46 14.238281 43.761719 12 41 12 L 35.902344 12 L 35.5 10.011719 C 35.03125 7.679688 32.980469 6 30.597656 6 Z M 25 17 C 30.519531 17 35 21.480469 35 27 C 35 32.519531 30.519531 37 25 37 C 19.480469 37 15 32.519531 15 27 C 15 21.480469 19.480469 17 25 17 Z M 25 19 C 20.589844 19 17 22.589844 17 27 C 17 31.410156 20.589844 35 25 35 C 29.410156 35 33 31.410156 33 27 C 33 22.589844 29.410156 19 25 19 Z "></path></svg>';function c(e){return document.querySelector(e)}function l(e){return document.createElement(e)}function s(e,o){var n=document.createElement("a");n.style.display="none",n.href=e,n.download=o,document.body.appendChild(n),n.click(),document.body.removeChild(n)}var createPluginStory=__webpack_require__("./utils/createPluginStory.tsx"),esm=(__webpack_require__("../../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("../../node_modules/@mdx-js/react/dist/esm.js")),dist_esm=__webpack_require__("../../node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)("h1",{id:"jwplayer-plugin-screenshot"},"jwplayer-plugin-screenshot"),Object(esm.b)("p",null,Object(esm.b)("a",{parentName:"p",href:"https://badge.fury.io/js/@hahow%2Fjwplayer-plugin-screenshot",target:"_blank",rel:"nofollow noopener noreferrer"},Object(esm.b)("img",{parentName:"a",src:"https://badge.fury.io/js/@hahow%2Fjwplayer-plugin-screenshot.svg",alt:"npm version"}))),Object(esm.b)("p",null,"這是一個 JW Player 的截圖 plugin，允許使用者擷取當前影格的畫面，並且下載儲存 PNG 圖檔。"),Object(esm.b)("h2",{id:"table-of-contents"},"Table of Contents"),Object(esm.b)("ul",null,Object(esm.b)("li",{parentName:"ul"},Object(esm.b)("a",{parentName:"li",href:"#demo"},"Demo")),Object(esm.b)("li",{parentName:"ul"},Object(esm.b)("a",{parentName:"li",href:"#external-plugin"},"External Plugin")),Object(esm.b)("li",{parentName:"ul"},Object(esm.b)("a",{parentName:"li",href:"#internal-plugin-not-recommended"},"Internal Plugin")),Object(esm.b)("li",{parentName:"ul"},Object(esm.b)("a",{parentName:"li",href:"#configuration"},"Configuration"))),Object(esm.b)("h2",{id:"demo"},"Demo"),Object(esm.b)(dist_esm.a,{id:"screenshot--screenshot",mdxType:"Story"}),Object(esm.b)("h2",{id:"external-plugin"},"External Plugin"),Object(esm.b)("p",null,"IIFE 格式，JW Player 預設使用 plugin 的方式："),Object(esm.b)("h3",{id:"vanilla-js"},"Vanilla JS"),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre",className:"language-html"},'<html>\n  <head>\n    <script src="{your_cloud_hosted_player_library_url}"><\/script>\n  </head>\n  <body>\n    <div id="myElement"></div>\n\n    <script type="text/JavaScript">\n      jwplayer("myElement").setup({\n        "playlist": "{your_playlist_url}",\n        "plugins": {\n          "//unpkg.com/@hahow/jwplayer-plugin-screenshot@latest/dist/iife/screenshot.js": {\n            enabled: true\n          }\n        }\n      });\n    <\/script>\n  </body>\n</html>\n')),Object(esm.b)("h3",{id:"react-js"},"React JS"),Object(esm.b)("p",null,"以 ",Object(esm.b)("a",{parentName:"p",href:"https://github.com/jwplayer/jwplayer-react",target:"_blank",rel:"nofollow noopener noreferrer"},"@jwplayer/jwplayer-react")," 為例，其它 framework 大同小異："),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre",className:"language-jsx"},"import JWPlayer from '@jwplayer/jwplayer-react';\n\nconst App = () => (\n  return (\n    <JWPlayer\n      library='{your_cloud_hosted_player_library_url}'\n      playlist='{your_playlist_url}'\n      config={{\n        plugins: {\n          \"//unpkg.com/@hahow/jwplayer-plugin-screenshot@latest/dist/iife/screenshot.js\": {\n            enabled: true\n          }\n        },\n      }}\n    />\n  );\n);\n")),Object(esm.b)("h2",{id:"internal-plugin-not-recommended"},"Internal Plugin (not recommended)"),Object(esm.b)("p",null,"CJS & EMS 格式，非官方使用 plugin 的方式，不建議使用："),Object(esm.b)("ol",null,Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("inlineCode",{parentName:"li"},"npm install @hahow/jwplayer-plugin-screenshot")),Object(esm.b)("li",{parentName:"ol"},"載入 plugin module ",Object(esm.b)("inlineCode",{parentName:"li"},"initPlugin")),Object(esm.b)("li",{parentName:"ol"},"建立一份空的 ",Object(esm.b)("inlineCode",{parentName:"li"},"screenshot.js"),"，放在 application 可以讀取的位置（例如 ",Object(esm.b)("inlineCode",{parentName:"li"},"/"),"）"),Object(esm.b)("li",{parentName:"ol"},"使用 JWP 的 ",Object(esm.b)("inlineCode",{parentName:"li"},"registerPlugin()")," API 註冊 plugin")),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre",className:"language-jsx"},'import JWPlayer from \'@jwplayer/jwplayer-react\';\n\nimport { initPlugin } from "@hahow/jwplayer-plugin-screenshot";\n\nconst App = () => (\n  return (\n    <JWPlayer\n      library=\'{your_cloud_hosted_player_library_url}\'\n      playlist=\'{your_playlist_url}\'\n      config={{\n        plugins: {\n          "/screenshot.js": {\n            enabled: true\n          }\n        },\n      }}\n      didMountCallback={({ player }) => {\n        player.registerPlugin("screenshot", "8.0", initPlugin);\n      }}\n    />\n  );\n);\n')),Object(esm.b)("h2",{id:"configuration"},"Configuration"),Object(esm.b)("table",null,Object(esm.b)("thead",{parentName:"table"},Object(esm.b)("tr",{parentName:"thead"},Object(esm.b)("th",{parentName:"tr",align:null},"config"),Object(esm.b)("th",{parentName:"tr",align:null},"type"),Object(esm.b)("th",{parentName:"tr",align:null},"default"),Object(esm.b)("th",{parentName:"tr",align:null},"description"))),Object(esm.b)("tbody",{parentName:"table"},Object(esm.b)("tr",{parentName:"tbody"},Object(esm.b)("td",{parentName:"tr",align:null},Object(esm.b)("inlineCode",{parentName:"td"},"enabled")),Object(esm.b)("td",{parentName:"tr",align:null},Object(esm.b)("inlineCode",{parentName:"td"},"boolean")),Object(esm.b)("td",{parentName:"tr",align:null},Object(esm.b)("inlineCode",{parentName:"td"},"true")),Object(esm.b)("td",{parentName:"tr",align:null},"是否開啟截圖功能")))))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;__webpack_exports__.default={title:"Screenshot",component:jwplayer_react_default.a,parameters:{docs:{page:MDXContent}}};var Screenshot=Object(createPluginStory.a)({pluginName:"screenshot",playerMinimumVersion:"8.0.0",pluginClassOrFunction:function p(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0};!1!==o.enabled&&e.on("ready",(function(){e.addButton(d,"截圖",(function n(){var r=c(".jw-video"),t=l("canvas");t.width=r.videoWidth,t.height=r.videoHeight,t.getContext("2d").drawImage(r,0,0),s(t.toDataURL("image/png"),"screenshot.png")}),"jw-plugin-screenshot")}))},pluginScriptUrl:"//unpkg.com/@hahow/jwplayer-plugin-screenshot@latest/dist/iife/screenshot.js",pluginConfig:{enabled:!0},storyArgs:{config:{height:360,width:640},file:"https://cdn.jwplayer.com/manifests/GXbUbwm0.m3u8",library:"https://cdn.jwplayer.com/libraries/BdsZ7KBq.js"}});Screenshot.parameters=Object.assign({storySource:{source:'createPluginStory({\n  pluginName: "screenshot",\n  playerMinimumVersion: "8.0.0",\n  pluginClassOrFunction: initPlugin,\n  pluginScriptUrl:\n    "//unpkg.com/@hahow/jwplayer-plugin-screenshot@latest/dist/iife/screenshot.js",\n  pluginConfig: {\n    enabled: true,\n  },\n  storyArgs: {\n    config: {\n      height: 360,\n      width: 640,\n    },\n    file: "https://cdn.jwplayer.com/manifests/GXbUbwm0.m3u8",\n    library: "https://cdn.jwplayer.com/libraries/BdsZ7KBq.js",\n  },\n})'}},Screenshot.parameters)},"./stories/TrackNotes.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TrackNotes",(function(){return TrackNotes}));var esm=__webpack_require__("../../node_modules/@storybook/addon-actions/dist/esm/index.js"),jwplayer_react=__webpack_require__("../../node_modules/@jwplayer/jwplayer-react/lib/jwplayer-react.js"),jwplayer_react_default=__webpack_require__.n(jwplayer_react);__webpack_require__("../../node_modules/core-js/modules/web.timers.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.define-property.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var i=function(){function i(t,o,r){_classCallCheck(this,i),this.player=t,this.config=o,this.div=r}return _createClass(i,[{key:"addTrackNote",value:function addTrackNote(){this.player.pause();var t=Math.round(this.player.getPosition());this.config.onTrackNoteCreate(t)}},{key:"completeAddTrackNote",value:function completeAddTrackNote(t){this.generateTrackNoteDOM(t)}},{key:"generateTrackNoteDOM",value:function generateTrackNoteDOM(t){var _this=this,o=document.createElement("div");o.setAttribute("class","jw-track-note");var r=document.createElement("div");r.setAttribute("class","jw-track-note__content-container jw-track-note__content-container--edit"),o.appendChild(r);var e=document.createElement("textarea");e.setAttribute("class","jw-track-note__content-textarea"),e.setAttribute("placeholder","新增筆記 (限 50 字)"),e.setAttribute("maxLength","50"),e.setAttribute("rows","1"),r.appendChild(e);var a=document.createElement("span");a.setAttribute("class","jw-track-note__trash-icon-wrapper"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M192 188v216c0 6.627-5.373 12-12 12h-24c-6.627 0-12-5.373-12-12V188c0-6.627 5.373-12 12-12h24c6.627 0 12 5.373 12 12zm100-12h-24c-6.627 0-12 5.373-12 12v216c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12V188c0-6.627-5.373-12-12-12zm132-96c13.255 0 24 10.745 24 24v12c0 6.627-5.373 12-12 12h-20v336c0 26.51-21.49 48-48 48H80c-26.51 0-48-21.49-48-48V128H12c-6.627 0-12-5.373-12-12v-12c0-13.255 10.745-24 24-24h74.411l34.018-56.696A48 48 0 0 1 173.589 0h100.823a48 48 0 0 1 41.16 23.304L349.589 80H424zm-269.611 0h139.223L276.16 50.913A6 6 0 0 0 271.015 48h-94.028a6 6 0 0 0-5.145 2.913L154.389 80zM368 128H80v330a6 6 0 0 0 6 6h276a6 6 0 0 0 6-6V128z"/></svg>',r.appendChild(a),setTimeout((function(){e.focus()}),50),e.addEventListener("keydown",(function(n){n.stopPropagation(),"Enter"===n.key&&(t.note=e.value,_this.player.addCues([{begin:t.time,text:t.note,cueType:"trackNote"}]),_this.config.onTrackNoteUpdate(t),o.setAttribute("hidden","true"),_this.player.play(),n.preventDefault())})),e.addEventListener("keyup",(function(n){n.preventDefault(),"Escape"===n.key&&(o.setAttribute("hidden","true"),_this.player.play())}));var g=this.player.getPosition()/this.player.getDuration()*100||0;this.div.style.left="calc("+g+"%)",this.div.appendChild(o)}}]),i}(),u=_createClass((function u(t,o,r){var _this2=this;_classCallCheck(this,u),this.trackNote=new i(t,o,r),function m(){var c=document.createElement("style");c.innerHTML="\n    .jw-overlays .jw-track-note {}\n    .jw-overlays .jw-track-note__content-container {\n      align-items: center;\n      background-color: #fff;\n      border-radius: 5px;\n      box-shadow: 0 0 0 rgba(0, 0, 0, .67);\n      padding: 2px 4px 2px 2px;\n    }\n    .jw-overlays .jw-track-note__content-container svg {\n      color: #000;\n      height: 18px;\n      width: 18px;\n    }\n    .jw-overlays .jw-track-note__content-textarea {\n      border: none 0;\n      color: #000;\n      min-width: 160px;\n      outline: none;\n      overflow: hidden;\n      resize: none;\n    }\n  ",document.getElementsByTagName("head")[0].appendChild(c)}(),t.on("ready",(function(){var e=o.trackNotes.map((function(_ref){var a=_ref.note;return{begin:_ref.time,cueType:"trackNote",text:a}}));t.addCues(e),t.addButton('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="jw-svg-icon"><path xmlns="http://www.w3.org/2000/svg" fill="currentColor" d="M448 75.2v361.7c0 24.3-19 43.2-43.2 43.2H43.2C19.3 480 0 461.4 0 436.8V75.2C0 51.1 18.8 32 43.2 32h361.7c24 0 43.1 18.8 43.1 43.2zm-37.3 361.6V75.2c0-3-2.6-5.8-5.8-5.8h-9.3L285.3 144 224 94.1 162.8 144 52.5 69.3h-9.3c-3.2 0-5.8 2.8-5.8 5.8v361.7c0 3 2.6 5.8 5.8 5.8h361.7c3.2.1 5.8-2.7 5.8-5.8zM150.2 186v37H76.7v-37h73.5zm0 74.4v37.3H76.7v-37.3h73.5zm11.1-147.3l54-43.7H96.8l64.5 43.7zm210 72.9v37h-196v-37h196zm0 74.4v37.3h-196v-37.3h196zm-84.6-147.3l64.5-43.7H232.8l53.9 43.7zM371.3 335v37.3h-99.4V335h99.4z"/></svg>',"筆記標註",(function(){_this2.trackNote.addTrackNote()}),"jw-plugin-track-notes")}))})),createPluginStory=__webpack_require__("./utils/createPluginStory.tsx"),dist_esm=(__webpack_require__("../../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("../../node_modules/@mdx-js/react/dist/esm.js")),addon_docs_dist_esm=__webpack_require__("../../node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(dist_esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(dist_esm.b)("h1",{id:"jwplayer-plugin-track-notes"},"jwplayer-plugin-track-notes"),Object(dist_esm.b)("p",null,Object(dist_esm.b)("a",{parentName:"p",href:"https://badge.fury.io/js/@hahow%2Fjwplayer-plugin-track-notes",target:"_blank",rel:"nofollow noopener noreferrer"},Object(dist_esm.b)("img",{parentName:"a",src:"https://badge.fury.io/js/@hahow%2Fjwplayer-plugin-track-notes.svg",alt:"npm version"}))),Object(dist_esm.b)("p",null,"🚧 ",Object(dist_esm.b)("strong",{parentName:"p"},"此功能尚未完成")," 🚧"),Object(dist_esm.b)("p",null,"這是一個 JW Player 外掛，允許使用者在播放器的時間軸上標註筆記。"),Object(dist_esm.b)("h2",{id:"table-of-contents"},"Table of Contents"),Object(dist_esm.b)("ul",null,Object(dist_esm.b)("li",{parentName:"ul"},Object(dist_esm.b)("a",{parentName:"li",href:"#demo"},"Demo")),Object(dist_esm.b)("li",{parentName:"ul"},Object(dist_esm.b)("a",{parentName:"li",href:"#external-plugin"},"External Plugin")),Object(dist_esm.b)("li",{parentName:"ul"},Object(dist_esm.b)("a",{parentName:"li",href:"#internal-plugin-not-recommended"},"Internal Plugin")),Object(dist_esm.b)("li",{parentName:"ul"},Object(dist_esm.b)("a",{parentName:"li",href:"#configuration"},"Configuration")),Object(dist_esm.b)("li",{parentName:"ul"},Object(dist_esm.b)("a",{parentName:"li",href:"#instance"},"Instance"))),Object(dist_esm.b)("h2",{id:"demo"},"Demo"),Object(dist_esm.b)(addon_docs_dist_esm.a,{id:"track-notes--track-notes",mdxType:"Story"}),Object(dist_esm.b)("h2",{id:"external-plugin"},"External Plugin"),Object(dist_esm.b)("p",null,"IIFE 格式，JW Player 預設使用 plugin 的方式："),Object(dist_esm.b)("h3",{id:"vanilla-js"},"Vanilla JS"),Object(dist_esm.b)("pre",null,Object(dist_esm.b)("code",{parentName:"pre",className:"language-html"},'<html>\n  <head>\n    <script src="{your_cloud_hosted_player_library_url}"><\/script>\n  </head>\n  <body>\n    <div id="myElement"></div>\n\n    <script type="text/JavaScript">\n      jwplayer("myElement").setup({\n        "playlist": "{your_playlist_url}",\n        "plugins": {\n          "//unpkg.com/@hahow/jwplayer-plugin-watermark@latest/dist/iife/trackNotes.js": {\n            trackNotes: [\n              {\n                note: "Hello Track Notes!",\n                time: 10,\n              },\n              {\n                note: "The Second Note",\n                time: 30,\n              },\n            ],\n            onTrackNoteCreate: (time: number) => {\n              // Do something, e.g., call the backend API.\n            },\n            onTrackNoteUpdate: (trackNote: TrackNoteType) => {\n              // Do something, e.g., call the backend API.\n            },\n          }\n        }\n      });\n    <\/script>\n  </body>\n</html>\n')),Object(dist_esm.b)("h3",{id:"react-js"},"React JS"),Object(dist_esm.b)("p",null,"以 ",Object(dist_esm.b)("a",{parentName:"p",href:"https://github.com/jwplayer/jwplayer-react",target:"_blank",rel:"nofollow noopener noreferrer"},"@jwplayer/jwplayer-react")," 為例，其它 framework 大同小異："),Object(dist_esm.b)("pre",null,Object(dist_esm.b)("code",{parentName:"pre",className:"language-jsx"},"import JWPlayer from '@jwplayer/jwplayer-react';\n\nconst App = () => (\n  return (\n    <JWPlayer\n      library='{your_cloud_hosted_player_library_url}'\n      playlist='{your_playlist_url}'\n      config={{\n        plugins: {\n          \"//unpkg.com/@hahow/jwplayer-plugin-track-notes@latest/dist/iife/trackNotes.js\": {\n            trackNotes: [\n              {\n                note: \"Hello Track Notes!\",\n                time: 10,\n              },\n              {\n                note: \"The Second Note\",\n                time: 30,\n              },\n            ],\n            onTrackNoteCreate: (time: number) => {\n              // Do something, e.g., call the backend API.\n            },\n            onTrackNoteUpdate: (trackNote: TrackNoteType) => {\n              // Do something, e.g., call the backend API.\n            },\n          }\n        },\n      }}\n    />\n  );\n);\n")),Object(dist_esm.b)("h2",{id:"internal-plugin-not-recommended"},"Internal Plugin (not recommended)"),Object(dist_esm.b)("p",null,"CJS & EMS 格式，非官方使用 plugin 的方式，不建議使用："),Object(dist_esm.b)("ol",null,Object(dist_esm.b)("li",{parentName:"ol"},Object(dist_esm.b)("inlineCode",{parentName:"li"},"npm install @hahow/jwplayer-plugin-track-notes")),Object(dist_esm.b)("li",{parentName:"ol"},"載入 plugin module ",Object(dist_esm.b)("inlineCode",{parentName:"li"},"initPlugin")),Object(dist_esm.b)("li",{parentName:"ol"},"建立一份空的 ",Object(dist_esm.b)("inlineCode",{parentName:"li"},"trackNotes.js"),"，放在 application 可以讀取的位置（例如 ",Object(dist_esm.b)("inlineCode",{parentName:"li"},"/"),"）"),Object(dist_esm.b)("li",{parentName:"ol"},"使用 JWP 的 ",Object(dist_esm.b)("inlineCode",{parentName:"li"},"registerPlugin()")," API 註冊 plugin")),Object(dist_esm.b)("pre",null,Object(dist_esm.b)("code",{parentName:"pre",className:"language-jsx"},'import JWPlayer from \'@jwplayer/jwplayer-react\';\n\nimport { initPlugin } from "@hahow/jwplayer-plugin-track-notes";\n\nconst App = () => (\n  return (\n    <JWPlayer\n      library=\'{your_cloud_hosted_player_library_url}\'\n      playlist=\'{your_playlist_url}\'\n      config={{\n        plugins: {\n          "/trackNotes.js": {\n            trackNotes: [\n              {\n                note: "Hello Track Notes!",\n                time: 10,\n              },\n              {\n                note: "The Second Note",\n                time: 30,\n              },\n            ],\n            onTrackNoteCreate: (time: number) => {\n              // Do something, e.g., call the backend API.\n            },\n            onTrackNoteUpdate: (trackNote: TrackNoteType) => {\n              // Do something, e.g., call the backend API.\n            },\n          }\n        },\n      }}\n      didMountCallback={({ player }) => {\n        player.registerPlugin("trackNotes", "8.0", initPlugin);\n      }}\n    />\n  );\n);\n')),Object(dist_esm.b)("h2",{id:"configuration"},"Configuration"),Object(dist_esm.b)("table",null,Object(dist_esm.b)("thead",{parentName:"table"},Object(dist_esm.b)("tr",{parentName:"thead"},Object(dist_esm.b)("th",{parentName:"tr",align:null},"config"),Object(dist_esm.b)("th",{parentName:"tr",align:null},"type"),Object(dist_esm.b)("th",{parentName:"tr",align:null},"default"),Object(dist_esm.b)("th",{parentName:"tr",align:null},"description"))),Object(dist_esm.b)("tbody",{parentName:"table"},Object(dist_esm.b)("tr",{parentName:"tbody"},Object(dist_esm.b)("td",{parentName:"tr",align:null},Object(dist_esm.b)("inlineCode",{parentName:"td"},"onTrackNoteCreate")),Object(dist_esm.b)("td",{parentName:"tr",align:null},Object(dist_esm.b)("inlineCode",{parentName:"td"},"(time: number) => void")),Object(dist_esm.b)("td",{parentName:"tr",align:null},Object(dist_esm.b)("inlineCode",{parentName:"td"},"undefined")),Object(dist_esm.b)("td",{parentName:"tr",align:null},"新增筆記標註的 callback")),Object(dist_esm.b)("tr",{parentName:"tbody"},Object(dist_esm.b)("td",{parentName:"tr",align:null},Object(dist_esm.b)("inlineCode",{parentName:"td"},"onTrackNoteUpdate")),Object(dist_esm.b)("td",{parentName:"tr",align:null},Object(dist_esm.b)("inlineCode",{parentName:"td"},"(trackNote: { note: string; time: number; }) => void")),Object(dist_esm.b)("td",{parentName:"tr",align:null},Object(dist_esm.b)("inlineCode",{parentName:"td"},"undefined")),Object(dist_esm.b)("td",{parentName:"tr",align:null},"更新筆記標註的 callback")),Object(dist_esm.b)("tr",{parentName:"tbody"},Object(dist_esm.b)("td",{parentName:"tr",align:null},Object(dist_esm.b)("inlineCode",{parentName:"td"},"trackNotes")),Object(dist_esm.b)("td",{parentName:"tr",align:null},Object(dist_esm.b)("inlineCode",{parentName:"td"},"Array<{ note: string; time: number; }>")),Object(dist_esm.b)("td",{parentName:"tr",align:null},Object(dist_esm.b)("inlineCode",{parentName:"td"},"undefined")),Object(dist_esm.b)("td",{parentName:"tr",align:null},"筆記標註內容")))),Object(dist_esm.b)("h2",{id:"instance"},"Instance"),Object(dist_esm.b)("p",null,"🚧"))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;__webpack_exports__.default={title:"Track Notes",component:jwplayer_react_default.a,argTypes:{onTrackNoteUpdate:{action:"clicked"}},parameters:{docs:{page:MDXContent}}};var TrackNotes=Object(createPluginStory.a)({pluginName:"trackNotes",playerMinimumVersion:"8.14.0",pluginClassOrFunction:u,pluginScriptUrl:"//unpkg.com/@hahow/jwplayer-plugin-full-viewport@latest/dist/iife/fullViewport.js",pluginConfig:{trackNotes:[{time:10,note:"Hello Track Notes!"},{time:30,note:"The Second Note"}],onTrackNoteCreate:function onTrackNoteCreate(time){Object(esm.action)("onTrackNoteCreate")(time);var trackNote={time:time};jwplayer().getPlugin("trackNotes").trackNote.completeAddTrackNote(trackNote)},onTrackNoteUpdate:function onTrackNoteUpdate(trackNote){Object(esm.action)("onTrackNoteUpdate")(trackNote)}},storyArgs:{config:{height:360,width:640},file:"https://cdn.jwplayer.com/manifests/GXbUbwm0.m3u8",library:"https://cdn.jwplayer.com/libraries/BdsZ7KBq.js"}})},"./stories/Watermark.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Watermark",(function(){return Watermark}));__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js");var jwplayer_react=__webpack_require__("../../node_modules/@jwplayer/jwplayer-react/lib/jwplayer-react.js"),jwplayer_react_default=__webpack_require__.n(jwplayer_react);var createPluginStory=__webpack_require__("./utils/createPluginStory.tsx"),esm=(__webpack_require__("../../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("../../node_modules/@mdx-js/react/dist/esm.js")),dist_esm=__webpack_require__("../../node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)("h1",{id:"jwplayer-plugin-watermark"},"jwplayer-plugin-watermark"),Object(esm.b)("p",null,Object(esm.b)("a",{parentName:"p",href:"https://badge.fury.io/js/@hahow%2Fjwplayer-plugin-watermark",target:"_blank",rel:"nofollow noopener noreferrer"},Object(esm.b)("img",{parentName:"a",src:"https://badge.fury.io/js/@hahow%2Fjwplayer-plugin-watermark.svg",alt:"npm version"}))),Object(esm.b)("p",null,"這是一個 JW Player plugin，允許在播放器上面顯示浮水印。"),Object(esm.b)("h2",{id:"table-of-contents"},"Table of Contents"),Object(esm.b)("ul",null,Object(esm.b)("li",{parentName:"ul"},Object(esm.b)("a",{parentName:"li",href:"#demo"},"Demo")),Object(esm.b)("li",{parentName:"ul"},Object(esm.b)("a",{parentName:"li",href:"#external-plugin"},"External Plugin")),Object(esm.b)("li",{parentName:"ul"},Object(esm.b)("a",{parentName:"li",href:"#internal-plugin-not-recommended"},"Internal Plugin")),Object(esm.b)("li",{parentName:"ul"},Object(esm.b)("a",{parentName:"li",href:"#configuration"},"Configuration"))),Object(esm.b)("h2",{id:"demo"},"Demo"),Object(esm.b)(dist_esm.a,{id:"watermark--watermark",mdxType:"Story"}),Object(esm.b)("h2",{id:"external-plugin"},"External Plugin"),Object(esm.b)("p",null,"IIFE 格式，JW Player 預設使用 plugin 的方式："),Object(esm.b)("h3",{id:"vanilla-js"},"Vanilla JS"),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre",className:"language-html"},'<html>\n  <head>\n    <script src="{your_cloud_hosted_player_library_url}"><\/script>\n  </head>\n  <body>\n    <div id="myElement"></div>\n\n    <script type="text/JavaScript">\n      jwplayer("myElement").setup({\n        "playlist": "{your_playlist_url}",\n        "plugins": {\n          "//unpkg.com/@hahow/jwplayer-plugin-watermark@latest/dist/iife/watermark.js": {\n            html: "影片資源請勿外流",\n            style: {\n              color: "rgba(179, 179, 179, 0.3)",\n              transform: "rotate(20deg)",\n            }\n          }\n        }\n      });\n    <\/script>\n  </body>\n</html>\n')),Object(esm.b)("h3",{id:"react-js"},"React JS"),Object(esm.b)("p",null,"以 ",Object(esm.b)("a",{parentName:"p",href:"https://github.com/jwplayer/jwplayer-react",target:"_blank",rel:"nofollow noopener noreferrer"},"@jwplayer/jwplayer-react")," 為例，其它 framework 大同小異："),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre",className:"language-jsx"},'import JWPlayer from \'@jwplayer/jwplayer-react\';\n\nconst App = () => (\n  return (\n    <JWPlayer\n      library=\'{your_cloud_hosted_player_library_url}\'\n      playlist=\'{your_playlist_url}\'\n      config={{\n        plugins: {\n          "//unpkg.com/@hahow/jwplayer-plugin-watermark@latest/dist/iife/watermark.js": {\n            html: "影片資源請勿外流",\n            style: {\n              color: "rgba(179, 179, 179, 0.3)",\n              transform: "rotate(20deg)",\n            }\n          }\n        },\n      }}\n    />\n  );\n);\n')),Object(esm.b)("h2",{id:"internal-plugin-not-recommended"},"Internal Plugin (not recommended)"),Object(esm.b)("p",null,"CJS & EMS 格式，非官方使用 plugin 的方式，不建議使用："),Object(esm.b)("ol",null,Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("inlineCode",{parentName:"li"},"npm install @hahow/jwplayer-plugin-watermark")),Object(esm.b)("li",{parentName:"ol"},"載入 plugin module ",Object(esm.b)("inlineCode",{parentName:"li"},"initPlugin")),Object(esm.b)("li",{parentName:"ol"},"建立一份空的 ",Object(esm.b)("inlineCode",{parentName:"li"},"watermark.js"),"，放在 application 可以讀取的位置（例如 ",Object(esm.b)("inlineCode",{parentName:"li"},"/"),"）"),Object(esm.b)("li",{parentName:"ol"},"使用 JWP 的 ",Object(esm.b)("inlineCode",{parentName:"li"},"registerPlugin()")," API 註冊 plugin")),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre",className:"language-jsx"},'import JWPlayer from \'@jwplayer/jwplayer-react\';\n\nimport { initPlugin } from "@hahow/jwplayer-plugin-watermark";\n\nconst App = () => (\n  return (\n    <JWPlayer\n      library=\'{your_cloud_hosted_player_library_url}\'\n      playlist=\'{your_playlist_url}\'\n      config={{\n        plugins: {\n          "/watermark.js": {\n            html: "影片資源請勿外流",\n            style: {\n              color: "rgba(179, 179, 179, 0.3)",\n              transform: "rotate(20deg)",\n            }\n          }\n        },\n      }}\n      didMountCallback={({ player }) => {\n        player.registerPlugin("watermark", "8.0", initPlugin);\n      }}\n    />\n  );\n);\n')),Object(esm.b)("h2",{id:"configuration"},"Configuration"),Object(esm.b)("table",null,Object(esm.b)("thead",{parentName:"table"},Object(esm.b)("tr",{parentName:"thead"},Object(esm.b)("th",{parentName:"tr",align:null},"config"),Object(esm.b)("th",{parentName:"tr",align:null},"type"),Object(esm.b)("th",{parentName:"tr",align:null},"default"),Object(esm.b)("th",{parentName:"tr",align:null},"description"))),Object(esm.b)("tbody",{parentName:"table"},Object(esm.b)("tr",{parentName:"tbody"},Object(esm.b)("td",{parentName:"tr",align:null},Object(esm.b)("inlineCode",{parentName:"td"},"html")),Object(esm.b)("td",{parentName:"tr",align:null},Object(esm.b)("inlineCode",{parentName:"td"},"string")),Object(esm.b)("td",{parentName:"tr",align:null},Object(esm.b)("inlineCode",{parentName:"td"},'""')),Object(esm.b)("td",{parentName:"tr",align:null},"浮水印內容，HTML 格式")),Object(esm.b)("tr",{parentName:"tbody"},Object(esm.b)("td",{parentName:"tr",align:null},Object(esm.b)("inlineCode",{parentName:"td"},"style")),Object(esm.b)("td",{parentName:"tr",align:null},Object(esm.b)("inlineCode",{parentName:"td"},"Partial<CSSStyleDeclaration>")),Object(esm.b)("td",{parentName:"tr",align:null},Object(esm.b)("inlineCode",{parentName:"td"},"{}")),Object(esm.b)("td",{parentName:"tr",align:null},"自訂浮水印樣式")))))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;__webpack_exports__.default={title:"Watermark",component:jwplayer_react_default.a,parameters:{docs:{page:MDXContent}}};var Watermark=Object(createPluginStory.a)({pluginName:"watermark",playerMinimumVersion:"8.0.0",pluginClassOrFunction:function c(r,n,e){r.on("ready",(function(a){var l,s;e.style.top="0",e.style.bottom="0",e.style.left="0",e.style.right="0",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.pointerEvents="none";var t=document.createElement("div");Object.assign(t.style,null!=(l=n.style)?l:{}),t.innerHTML=null!=(s=n.html)?s:"",e.appendChild(t)}))},pluginScriptUrl:"//unpkg.com/@hahow/jwplayer-plugin-watermark@latest/dist/iife/watermark.js",pluginConfig:{html:"影片資源請勿外流 影片資源請勿外流 影片資源請勿外流",style:{color:"rgba(179, 179, 179, 0.3)",fontSize:"16px",fontWeight:"600",lineHeight:"26px",transform:"rotate(20deg)",whiteSpace:"nowrap"}},storyArgs:{config:{height:360,width:640},file:"https://cdn.jwplayer.com/manifests/GXbUbwm0.m3u8",library:"https://cdn.jwplayer.com/libraries/BdsZ7KBq.js"}});Watermark.parameters=Object.assign({storySource:{source:'createPluginStory({\n  pluginName: "watermark",\n  playerMinimumVersion: "8.0.0",\n  pluginClassOrFunction: initPlugin,\n  pluginScriptUrl:\n    "//unpkg.com/@hahow/jwplayer-plugin-watermark@latest/dist/iife/watermark.js",\n  pluginConfig: {\n    html: "影片資源請勿外流 影片資源請勿外流 影片資源請勿外流",\n    style: {\n      color: "rgba(179, 179, 179, 0.3)",\n      fontSize: "16px",\n      fontWeight: "600",\n      lineHeight: "26px",\n      transform: "rotate(20deg)",\n      whiteSpace: "nowrap",\n    },\n  },\n  storyArgs: {\n    config: {\n      height: 360,\n      width: 640,\n    },\n    file: "https://cdn.jwplayer.com/manifests/GXbUbwm0.m3u8",\n    library: "https://cdn.jwplayer.com/libraries/BdsZ7KBq.js",\n  },\n})'}},Watermark.parameters)},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("../../node_modules/@storybook/react/dist/esm/client/index.js")},"./utils/createPluginStory.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.bind.js");var _jwplayer_jwplayer_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@jwplayer/jwplayer-react/lib/jwplayer-react.js"),_jwplayer_jwplayer_react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_jwplayer_jwplayer_react__WEBPACK_IMPORTED_MODULE_2__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),createPluginStory=function createPluginStory(_ref){_ref.playerMinimumVersion,_ref.pluginClassOrFunction;var _storyArgs$config,_ref4,pluginConfig=_ref.pluginConfig,pluginScriptUrl=(_ref.pluginName,_ref.pluginScriptUrl),storyArgs=_ref.storyArgs,Story=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_jwplayer_jwplayer_react__WEBPACK_IMPORTED_MODULE_2___default.a,Object.assign({didMountCallback:function didMountCallback(_ref2){_ref2.player}},args))}.bind({});return Story.args=Object.assign({},storyArgs,{config:Object.assign({},storyArgs.config,{plugins:Object.assign({},null===(_storyArgs$config=storyArgs.config)||void 0===_storyArgs$config?void 0:_storyArgs$config.plugins,(_ref4={},_ref4[pluginScriptUrl]=Object.assign({},pluginConfig),_ref4))})}),Story};__webpack_exports__.a=createPluginStory;try{createPluginStory.displayName="createPluginStory",createPluginStory.__docgenInfo={description:"",displayName:"createPluginStory",props:{playerMinimumVersion:{defaultValue:null,description:"Minimum player version required the plugin",name:"playerMinimumVersion",required:!0,type:{name:"string"}},pluginClassOrFunction:{defaultValue:null,description:"Plugin function of class to instantiate with new player instances",name:"pluginClassOrFunction",required:!0,type:{name:"Function"}},pluginConfig:{defaultValue:null,description:"TODO:",name:"pluginConfig",required:!0,type:{name:"any"}},pluginName:{defaultValue:null,description:"Name of the plugin matching the name referenced in the `plugins` object of the player\nThe `pluginName` must match the name referenced in the `plugins` object of the player.",name:"pluginName",required:!0,type:{name:"string"}},pluginScriptUrl:{defaultValue:null,description:"the URL of the plugin script that will be added to the `plugins`. When the player is instantiated, the plugin script is downloaded and initialized.",name:"pluginScriptUrl",required:!0,type:{name:"string"}},storyArgs:{defaultValue:null,description:"TODO:",name:"storyArgs",required:!0,type:{name:"JWPlayerProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["utils/createPluginStory.tsx#createPluginStory"]={docgenInfo:createPluginStory.__docgenInfo,name:"createPluginStory",path:"utils/createPluginStory.tsx#createPluginStory"})}catch(__react_docgen_typescript_loader_error){}},0:function(module,exports,__webpack_require__){__webpack_require__("../../node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("../../node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("../../node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,4,5]]]);